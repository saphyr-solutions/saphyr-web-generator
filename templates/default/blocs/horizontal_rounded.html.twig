{% import "/macros/tool.html.twig" as macros %}

<div class="card card-row shadow-light-lg {{ macros.getBlocClasses(current_bloc) }}" style="{{ macros.getStyles(current_bloc, "")|trim }}" {{ macros.getEditableBloc(current_bloc) }} data-aos="fade-up" data-aos-delay="200">
    <div class="row gx-0">
        <a class="col-12 col-md-4 bg-cover card-img-start" style="background-image: url({{ asset(current_bloc.values.image) }});"  {% if current_bloc.values.image_link.value %}href="{{ current_bloc.values.image_link.value }}"{% endif %}>
            <!-- Image (placeholder) -->
            <img class="img-fluid d-md-none invisible" src="{{ asset(current_bloc.values.image) }}" alt="{{ current_bloc.values.image.label }}">

            <!-- Shape -->
            <div class="shape shape-end shape-fluid-y text-white d-none d-md-block">
                <svg viewBox="0 0 112 690" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M116 0H51v172C76 384 0 517 0 517v173h116V0z" fill="currentColor"></path></svg>
            </div>
        </a>
        <div class="col-12 col-md-8 order-md-1">

            <!-- Body -->
            <div class="card-body">
                {% if current_bloc.values.label_1_label.value %}
                    <div class="position-relative text-start mt-n8 me-n4 mb-3">
                        {% if current_bloc.values.label_1_label.value %}
                            {{ macros.label(current_bloc, 1) }}
                        {% endif %}
                        {% if current_bloc.values.label_2_label.value %}
                            {{ macros.label(current_bloc, 2) }}
                        {% endif %}
                        {% if current_bloc.values.label_3_label.value %}
                            {{ macros.label(current_bloc, 3) }}
                        {% endif %}
                    </div>
                {% endif %}

                {% if current_bloc.values.icon_icon.value or current_bloc.values.icon_logo.value %}
                    <div class="mb-5">{{ macros.icon(current_bloc) }}</div>
                {% endif %}

                {% if current_bloc.values.title.value %}
                    {{ macros.header(current_bloc,current_bloc.values.header_size.value?:2) }}
                {% endif %}

                {% if current_bloc.values.text.value %}
                    <div style="{{ macros.getStyles(current_bloc, "text_")|trim }}" class="mt-5">{{ current_bloc.values.text.value|snl2br|raw }}</div>
                {% endif %}

                {% if current_bloc.values.files %}
                    {{ macros.files(current_bloc) }}
                {% endif %}

                {% if current_bloc.values.author.value %}
                    <div class="mt-2 pt-2 border-top text-muted text-right fst-italic">{{ current_bloc.values.author.value|snl2br|raw }}</div>
                {% endif %}

                {% if current_bloc.values.button_text.value %}
                    <div class="mt-5">
                        {{ macros.button(current_bloc) }}
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>